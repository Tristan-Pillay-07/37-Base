<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="_37Base.MainPage">

    <ContentPage.Resources>
        <Style x:Key="TitleLabel" TargetType="Label">
            <Setter Property="FontSize" Value="32"/>
            <Setter Property="FontAttributes" Value="Bold"/>
            <Setter Property="TextColor" Value="#12123A"/>
            <Setter Property="HorizontalOptions" Value="Center"/>
        </Style>

        <Style x:Key="SubtitleLabel" TargetType="Label">
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="TextColor" Value="#6B6B7A"/>
            <Setter Property="HorizontalOptions" Value="Center"/>
        </Style>

        <Style x:Key="CardFrame" TargetType="Frame">
            <Setter Property="Padding" Value="14"/>
            <Setter Property="CornerRadius" Value="20"/>
            <Setter Property="HasShadow" Value="True"/>
            <Setter Property="BackgroundColor" Value="White"/>
            <Setter Property="HeightRequest" Value="140"/>
            <Setter Property="Margin" Value="0,0,0,16"/>
        </Style>

        <Style x:Key="CardCaption" TargetType="Label">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="HorizontalTextAlignment" Value="Center"/>
            <Setter Property="TextColor" Value="#1C1B20"/>
            <Setter Property="Margin" Value="0,8,0,0"/>
        </Style>
    </ContentPage.Resources>

    <ScrollView>
        <Grid Padding="24,32" RowSpacing="16">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <!-- Title -->
                <RowDefinition Height="Auto"/>
                <!-- Subtitle -->
                <RowDefinition Height="*"   />
                <!-- Cards -->
                <RowDefinition Height="Auto"/>
                <!-- Footer -->
            </Grid.RowDefinitions>

            <!-- Title -->
            <Label Grid.Row="0"
                   Style="{StaticResource TitleLabel}"
                   Text="Welcome!" />

            <!-- Subtitle -->
            <Label Grid.Row="1"
                   Style="{StaticResource SubtitleLabel}"
                   Margin="0,4,0,16"
                   Text="Station 37 Check Lists" />

            <!-- Cards: 2-column grid -->
            <Grid Grid.Row="2"
                  ColumnSpacing="16"
                  RowSpacing="16">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <!-- Rescue 37 -->
                <Frame Grid.Row="0" Grid.Column="0" Style="{StaticResource CardFrame}">
                    <Frame.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnCardTapped" CommandParameter="Rescue37"/>
                    </Frame.GestureRecognizers>
                    
                    <VerticalStackLayout Spacing="0" HorizontalOptions="Center" VerticalOptions="Center">
                        <Image Source="r37.png" Aspect="AspectFit" HeightRequest="72"/>
                        <Label Style="{StaticResource CardCaption}" Text="Rescue 37"/>
                    </VerticalStackLayout>
                </Frame>

                <!-- Alpha -->
                <Frame Grid.Row="0" Grid.Column="1" Style="{StaticResource CardFrame}">

                    <Frame.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnCardTapped" CommandParameter="Alpha"/>
                    </Frame.GestureRecognizers>

                    <VerticalStackLayout Spacing="0" HorizontalOptions="Center" VerticalOptions="Center">
                        <Image Source="alpha.png" Aspect="AspectFit" HeightRequest="72"/>
                        <Label Style="{StaticResource CardCaption}" Text="Alpha"/>
                    </VerticalStackLayout>
                </Frame>

                <!-- Charlie -->
                <Frame Grid.Row="1" Grid.Column="0" Style="{StaticResource CardFrame}">
                    <Frame.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnCardTapped" CommandParameter="Charlie"/>
                    </Frame.GestureRecognizers>

                    <VerticalStackLayout Spacing="0" HorizontalOptions="Center" VerticalOptions="Center">
                        <Image Source="charlie.png" Aspect="AspectFit" HeightRequest="72"/>
                        <Label Style="{StaticResource CardCaption}" Text="Charlie"/>
                    </VerticalStackLayout>
                </Frame>
                        

                <!-- Define row heights implicitly by adding RowDefinitions once max row index is known -->
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
            </Grid>

            <!-- Footer -->
            <Label Grid.Row="3"
                   Margin="0,24,0,8"
                   FontSize="12"
                   TextColor="#818395"
                   HorizontalTextAlignment="Center"
                   Text="For use by Station 37 Crew only!" />
        </Grid>
    </ScrollView>

</ContentPage>
